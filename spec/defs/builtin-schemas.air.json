[
  {
    "$kind": "defschema",
    "name": "sys/TimerSetParams@1",
    "type": {
      "record": {
        "deliver_at_ns": { "nat": {} },
        "key": { "option": { "text": {} } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/TimerSetReceipt@1",
    "type": {
      "record": {
        "delivered_at_ns": { "nat": {} },
        "key": { "option": { "text": {} } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/TimerFired@1",
    "type": {
      "record": {
        "intent_hash": { "hash": {} },
        "reducer": { "text": {}, "$comment": "Name-formatted string" },
        "effect_kind": { "text": {} },
        "adapter_id": { "text": {} },
        "status": { "text": {} },
        "requested": { "ref": "sys/TimerSetParams@1" },
        "receipt": { "ref": "sys/TimerSetReceipt@1" },
        "cost_cents": { "option": { "nat": {} } },
        "signature": { "bytes": {} }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/BlobPutParams@1",
    "type": {
      "record": {
        "namespace": { "text": {} },
        "blob_ref": { "hash": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/BlobPutReceipt@1",
    "type": {
      "record": {
        "blob_ref": { "hash": {} },
        "size": { "nat": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/BlobGetParams@1",
    "type": {
      "record": {
        "namespace": { "text": {} },
        "key": { "text": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/BlobGetReceipt@1",
    "type": {
      "record": {
        "blob_ref": { "hash": {} },
        "size": { "nat": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/BlobPutResult@1",
    "type": {
      "record": {
        "intent_hash": { "hash": {} },
        "reducer": { "text": {}, "$comment": "Name-formatted string" },
        "effect_kind": { "text": {} },
        "adapter_id": { "text": {} },
        "status": { "text": {} },
        "requested": { "ref": "sys/BlobPutParams@1" },
        "receipt": { "ref": "sys/BlobPutReceipt@1" },
        "cost_cents": { "option": { "nat": {} } },
        "signature": { "bytes": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/BlobGetResult@1",
    "type": {
      "record": {
        "intent_hash": { "hash": {} },
        "reducer": { "text": {}, "$comment": "Name-formatted string" },
        "effect_kind": { "text": {} },
        "adapter_id": { "text": {} },
        "status": { "text": {} },
        "requested": { "ref": "sys/BlobGetParams@1" },
        "receipt": { "ref": "sys/BlobGetReceipt@1" },
        "cost_cents": { "option": { "nat": {} } },
        "signature": { "bytes": {} }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/HttpRequestParams@1",
    "type": {
      "record": {
        "method": { "text": {} },
        "url": { "text": {} },
        "headers": {
          "map": {
            "key": { "text": {} },
            "value": { "text": {} }
          }
        },
        "body_ref": { "option": { "hash": {} } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/HttpRequestReceipt@1",
    "type": {
      "record": {
        "status": { "int": {} },
        "headers": {
          "map": {
            "key": { "text": {} },
            "value": { "text": {} }
          }
        },
        "body_ref": { "option": { "hash": {} } },
        "timings": {
          "record": {
            "start_ns": { "nat": {} },
            "end_ns": { "nat": {} }
          }
        },
        "adapter_id": { "text": {} }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/LlmGenerateParams@1",
    "type": {
      "record": {
        "provider": { "text": {} },
        "model": { "text": {} },
        "temperature": { "dec128": {} },
        "max_tokens": { "nat": {} },
        "input_ref": { "hash": {} },
        "tools": { "option": { "list": { "text": {} } } },
        "api_key": { "option": { "ref": "sys/TextOrSecretRef@1" } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/LlmGenerateReceipt@1",
    "type": {
      "record": {
        "output_ref": { "hash": {} },
        "token_usage": {
          "record": {
            "prompt": { "nat": {} },
            "completion": { "nat": {} }
          }
        },
        "cost_cents": { "nat": {} },
        "provider_id": { "text": {} }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/CapCheckInput@1",
    "type": {
      "record": {
        "cap_def": { "text": {}, "$comment": "Name-formatted string" },
        "grant_name": { "text": {} },
        "cap_params": { "bytes": {}, "$comment": "Canonical CBOR" },
        "effect_kind": { "text": {} },
        "effect_params": { "bytes": {}, "$comment": "Canonical CBOR" },
        "origin": {
          "record": {
            "kind": { "text": {} },
            "name": { "text": {}, "$comment": "Name-formatted string" }
          }
        },
        "logical_now_ns": { "nat": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/CapCheckOutput@1",
    "type": {
      "record": {
        "constraints_ok": { "bool": {} },
        "deny": {
          "option": {
            "record": {
              "code": { "text": {} },
              "message": { "text": {} }
            }
          }
        }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/SecretRef@1",
    "type": {
      "record": {
        "alias": { "text": {} },
        "version": { "nat": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/TextOrSecretRef@1",
    "type": {
      "variant": {
        "literal": { "text": {} },
        "secret": { "ref": "sys/SecretRef@1" }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/BytesOrSecretRef@1",
    "type": {
      "variant": {
        "literal": { "bytes": {} },
        "secret": { "ref": "sys/SecretRef@1" }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/VaultPutParams@1",
    "type": {
      "record": {
        "alias": { "text": {} },
        "binding_id": { "text": {} },
        "value_ref": { "hash": {} },
        "expected_digest": { "hash": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/VaultPutReceipt@1",
    "type": {
      "record": {
        "alias": { "text": {} },
        "version": { "nat": {} },
        "binding_id": { "text": {} },
        "digest": { "hash": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/VaultRotateParams@1",
    "type": {
      "record": {
        "alias": { "text": {} },
        "version": { "nat": {} },
        "binding_id": { "text": {} },
        "expected_digest": { "hash": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/VaultRotateReceipt@1",
    "type": {
      "record": {
        "alias": { "text": {} },
        "version": { "nat": {} },
        "binding_id": { "text": {} },
        "digest": { "hash": {} }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/GovProposeParams@1",
    "type": {
      "record": {
        "patch_hash": { "hash": {} },
        "manifest_base": {
          "option": { "hash": {} },
          "$comment": "When present, must equal patch.base_manifest_hash for the proposal."
        },
        "description": { "option": { "text": {} } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/GovProposeReceipt@1",
    "type": {
      "record": {
        "proposal_id": { "nat": {} },
        "patch_hash": { "hash": {} },
        "manifest_base": { "option": { "hash": {} } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/GovShadowParams@1",
    "type": {
      "record": {
        "proposal_id": { "nat": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/GovShadowReceipt@1",
    "type": {
      "record": {
        "proposal_id": { "nat": {} },
        "manifest_hash": { "hash": {} },
        "predicted_effects": {
          "list": {
            "record": {
              "kind": { "text": {} },
              "cap": { "text": {} },
              "intent_hash": { "hash": {} },
              "params_json": { "option": { "text": {} } }
            }
          }
        },
        "pending_receipts": {
          "list": {
            "record": {
              "plan_id": { "nat": {} },
              "plan": { "option": { "text": {} } },
              "intent_hash": { "hash": {} }
            }
          }
        },
        "plan_results": {
          "list": {
            "record": {
              "plan": { "text": {} },
              "plan_id": { "nat": {} },
              "output_schema": { "text": {} }
            }
          }
        },
        "ledger_deltas": {
          "list": {
            "record": {
              "ledger": {
                "variant": {
                  "capability": { "unit": {} },
                  "policy": { "unit": {} }
                }
              },
              "name": { "text": {} },
              "change": {
                "variant": {
                  "added": { "unit": {} },
                  "removed": { "unit": {} },
                  "changed": { "unit": {} }
                }
              }
            }
          }
        }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/GovApproveParams@1",
    "type": {
      "record": {
        "proposal_id": { "nat": {} },
        "decision": {
          "variant": {
            "approve": { "unit": {} },
            "reject": { "unit": {} }
          }
        },
        "approver": { "text": {} },
        "reason": { "option": { "text": {} } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/GovApproveReceipt@1",
    "type": {
      "record": {
        "proposal_id": { "nat": {} },
        "decision": {
          "variant": {
            "approve": { "unit": {} },
            "reject": { "unit": {} }
          }
        },
        "patch_hash": { "hash": {} },
        "approver": { "text": {} },
        "reason": { "option": { "text": {} } }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/GovApplyParams@1",
    "type": {
      "record": {
        "proposal_id": { "nat": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/GovApplyReceipt@1",
    "type": {
      "record": {
        "proposal_id": { "nat": {} },
        "manifest_hash_new": { "hash": {} },
        "patch_hash": { "hash": {} }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/ObjectKey@1",
    "type": { "text": {} }
  },
  {
    "$kind": "defschema",
    "name": "sys/ObjectMeta@1",
    "type": {
      "record": {
        "name": { "text": {} },
        "kind": { "text": {} },
        "hash": { "hash": {} },
        "tags": { "set": { "text": {} } },
        "created_at": { "time": {} },
        "owner": { "text": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/ObjectVersions@1",
    "type": {
      "record": {
        "latest": { "nat": {} },
        "versions": {
          "map": {
            "key": { "nat": {} },
            "value": { "ref": "sys/ObjectMeta@1" }
          }
        }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/ObjectRegistered@1",
    "type": {
      "record": {
        "meta": { "ref": "sys/ObjectMeta@1" }
      }
    }
  },

  {
    "$kind": "defschema",
    "name": "sys/ReadMeta@1",
    "type": {
      "record": {
        "journal_height": { "nat": {} },
        "snapshot_hash": { "option": { "hash": {} } },
        "manifest_hash": { "hash": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectManifestParams@1",
    "type": {
      "record": {
        "consistency": { "text": {}, "$comment": "head | exact:<height> | at_least:<height>" }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectManifestReceipt@1",
    "type": {
      "record": {
        "manifest": { "bytes": {} },
        "meta": { "ref": "sys/ReadMeta@1" }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectReducerStateParams@1",
    "type": {
      "record": {
        "reducer": { "text": {} },
        "key": { "option": { "bytes": {} } },
        "consistency": { "text": {}, "$comment": "head | exact:<height> | at_least:<height>" }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectReducerStateReceipt@1",
    "type": {
      "record": {
        "state": { "option": { "bytes": {} } },
        "meta": { "ref": "sys/ReadMeta@1" }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectJournalHeadParams@1",
    "type": { "record": {} }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectJournalHeadReceipt@1",
    "type": {
      "record": {
        "meta": { "ref": "sys/ReadMeta@1" }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectListCellsParams@1",
    "type": {
      "record": {
        "reducer": { "text": {} }
      }
    }
  },
  {
    "$kind": "defschema",
    "name": "sys/IntrospectListCellsReceipt@1",
    "type": {
      "record": {
        "cells": {
          "list": {
            "record": {
              "key": { "bytes": {} },
              "state_hash": { "hash": {} },
              "size": { "nat": {} },
              "last_active_ns": { "nat": {} }
            }
          }
        },
        "meta": { "ref": "sys/ReadMeta@1" }
      }
    }
  }
]
