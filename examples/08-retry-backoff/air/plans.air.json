[
  {
    "$kind": "defplan",
    "name": "demo/WorkPlan@1",
    "input": "demo/WorkRequested@1",
    "steps": [
      {
        "id": "fail",
        "op": "raise_event",
        "reducer": "demo/RetrySM@1",
        "event": {
          "err": {
            "req_id": "req-123",
            "transient": true,
            "message": "simulated transient failure"
          }
        }
      },
      { "id": "end", "op": "end" }
    ],
    "edges": [ {"from": "fail", "to": "end"} ],
    "required_caps": [],
    "allowed_effects": [],
    "invariants": []
  }
]
