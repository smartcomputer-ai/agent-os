{
  "$kind": "manifest",
  "schemas": [
    {
      "name": "demo/ChainPhase@1"
    },
    {
      "name": "demo/ChainHttpTarget@1"
    },
    {
      "name": "demo/ChainSagaState@1"
    },
    {
      "name": "demo/ChainState@1"
    },
    {
      "name": "demo/ChainStart@1"
    },
    {
      "name": "demo/ChainChargeCompleted@1"
    },
    {
      "name": "demo/ChainReserveCompleted@1"
    },
    {
      "name": "demo/ChainReserveFailed@1"
    },
    {
      "name": "demo/ChainNotifyCompleted@1"
    },
    {
      "name": "demo/ChainRefundCompleted@1"
    },
    {
      "name": "demo/ChainEvent@1"
    },
    {
      "name": "demo/ChargeRequested@1"
    },
    {
      "name": "demo/ReserveRequested@1"
    },
    {
      "name": "demo/NotifyRequested@1"
    },
    {
      "name": "demo/RefundRequested@1"
    },
    {
      "name": "sys/BlobPutParams@1"
    },
    {
      "name": "sys/BlobPutReceipt@1"
    },
    {
      "name": "sys/BlobGetParams@1"
    },
    {
      "name": "sys/BlobGetReceipt@1"
    },
    {
      "name": "sys/BlobPutResult@1"
    },
    {
      "name": "sys/BlobGetResult@1"
    },
    {
      "name": "sys/HttpRequestParams@1"
    },
    {
      "name": "sys/HttpRequestReceipt@1"
    }
  ],
  "modules": [
    {
      "name": "demo/ChainComp@1"
    }
  ],
  "plans": [
    {
      "name": "demo/charge_plan@1"
    },
    {
      "name": "demo/reserve_plan@1"
    },
    {
      "name": "demo/notify_plan@1"
    },
    {
      "name": "demo/refund_plan@1"
    }
  ],
  "caps": [
    {
      "name": "demo/http_chain_cap@1"
    }
  ],
  "policies": [
    {
      "name": "demo/http-chain-policy@1"
    }
  ],
  "defaults": {
    "policy": "demo/http-chain-policy@1",
    "cap_grants": [
      {
        "name": "cap_http_chain",
        "cap": "demo/http_chain_cap@1",
        "params": {
          "record": {
            "hosts": {
              "set": [
                {
                  "text": "example.com"
                }
              ]
            },
            "methods": {
              "set": [
                {
                  "text": "POST"
                },
                {
                  "text": "PUT"
                }
              ]
            }
          }
        }
      }
    ]
  },
  "routing": {
    "events": [
      {
        "event": "demo/ChainEvent@1",
        "reducer": "demo/ChainComp@1"
      }
    ],
    "inboxes": []
  },
  "triggers": [
    {
      "event": "demo/ChargeRequested@1",
      "plan": "demo/charge_plan@1",
      "correlate_by": "request_id"
    },
    {
      "event": "demo/ReserveRequested@1",
      "plan": "demo/reserve_plan@1",
      "correlate_by": "request_id"
    },
    {
      "event": "demo/NotifyRequested@1",
      "plan": "demo/notify_plan@1",
      "correlate_by": "request_id"
    },
    {
      "event": "demo/RefundRequested@1",
      "plan": "demo/refund_plan@1",
      "correlate_by": "request_id"
    }
  ],
  "air_version": "1",
  "effects": [
    {
      "name": "sys/http.request@1"
    },
    {
      "name": "sys/blob.put@1"
    },
    {
      "name": "sys/blob.get@1"
    }
  ]
}
